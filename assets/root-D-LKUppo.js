import{q as f,p as e,L as g,a as i,w as j,t as v,M as w,v as k,S as b,x as y,O as L,i as C}from"./chunk-B7RQU5TL-xj-QjgGV.js";import{C as N}from"./CameraSettingsContext-BDn7_6_x.js";import{M}from"./MathpixSettingsContext-C5kfmVKl.js";import{F as E}from"./FlowiseAgentsContext-DaThIt2D.js";import{P as A}from"./PromptsContext-klJWnLUU.js";import{M as P}from"./MultiOCRWorkflowContext-CwP5iTqf.js";const I=[{name:"Flowise",href:"/",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})},{name:"Multi-OCR",href:"/multi-ocr-workflow",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14-4H3m16 8H5m14 4H3"})})},{name:"OCR",href:"/ocr",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Cámara",href:"/camera",icon:e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})},{name:"Configuración",href:"/settings",icon:e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}];function S(){const s=f();return e.jsx("nav",{className:"bottom-navigation fixed bottom-0 left-0 right-0 px-4 py-2 z-50 border-t",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:e.jsx("div",{className:"flex justify-around items-center max-w-md mx-auto",children:I.map(n=>{const t=s.pathname===n.href;return e.jsxs(g,{to:n.href,className:"flex flex-col items-center py-2 px-3 rounded-lg transition-colors",style:{backgroundColor:t?"var(--color-accent)":"transparent","--tw-bg-opacity":t?"1":"0"},children:[e.jsx("span",{style:{color:t?"white":"var(--color-text-tertiary)"},children:n.icon}),e.jsx("span",{className:"text-xs mt-1 font-medium",style:{color:t?"white":"var(--color-text-secondary)"},children:n.name})]},n.name)})})})}function W(){const[s,n]=i.useState(!1),[t,o]=i.useState(null),[c,m]=i.useState(!1),[a,l]=i.useState(null);i.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&m(!0);const p=r=>{r.preventDefault(),o(r)},x=()=>{m(!0),o(null)};return window.addEventListener("beforeinstallprompt",p),window.addEventListener("appinstalled",x),"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(r=>{l(r),r.addEventListener("updatefound",()=>{const u=r.installing;u&&u.addEventListener("statechange",()=>{u.state==="installed"&&navigator.serviceWorker.controller&&n(!0)})})}),navigator.serviceWorker.addEventListener("message",r=>{r.data&&r.data.type==="SW_UPDATE_AVAILABLE"&&n(!0)})),()=>{window.removeEventListener("beforeinstallprompt",p),window.removeEventListener("appinstalled",x)}},[]);const d=async()=>{t&&(await t.prompt(),(await t.userChoice).outcome==="accepted"?console.log("Usuario aceptó la instalación"):console.log("Usuario rechazó la instalación"),o(null))},h=()=>{a&&a.waiting&&(a.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())};return t&&!c?e.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-50 bg-green-600 text-white p-4 rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"📱 Instalar App"}),e.jsx("p",{className:"text-sm opacity-90",children:"Instala esta aplicación para una mejor experiencia"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:d,className:"bg-white text-green-600 px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors",children:"Instalar"}),e.jsx("button",{onClick:()=>o(null),className:"bg-gray-500 text-white px-4 py-2 rounded font-medium hover:bg-gray-600 transition-colors",children:"Ahora no"})]})]})}):s?e.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-50 bg-blue-600 text-white p-4 rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Actualización disponible"}),e.jsx("p",{className:"text-sm opacity-90",children:"Hay una nueva versión de la aplicación disponible."})]}),e.jsx("button",{onClick:h,className:"ml-4 bg-white text-blue-600 px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors",children:"Actualizar"})]})}):null}const z=i.createContext(void 0);function T({children:s}){const[n,t]=i.useState("light");i.useEffect(()=>{const a=localStorage.getItem("theme");if(a)t(a),o(a);else{const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(d),o(d)}},[]),i.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),l=d=>{if(!localStorage.getItem("theme")){const h=d.matches?"dark":"light";t(h),o(h)}};return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},[]);const o=a=>{const l=document.documentElement;a==="dark"?l.classList.add("dark"):l.classList.remove("dark")},c=a=>{t(a),o(a),localStorage.setItem("theme",a)},m=()=>{c(n==="light"?"dark":"light")};return e.jsx(z.Provider,{value:{theme:n,toggleTheme:m,setTheme:c},children:s})}const D=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"},{rel:"manifest",href:"/react-mathpix-flowise/manifest.json"},{rel:"icon",href:"/react-mathpix-flowise/favicon.ico"},{rel:"apple-touch-icon",href:"/react-mathpix-flowise/icon-192x192.png"},{rel:"apple-touch-icon",sizes:"192x192",href:"/react-mathpix-flowise/icon-192x192.png"},{rel:"apple-touch-icon",sizes:"512x512",href:"/react-mathpix-flowise/icon-512x512.png"}];function F({children:s}){return e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"application-name",content:"MathPix OCR"}),e.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),e.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),e.jsx("meta",{name:"apple-mobile-web-app-title",content:"MathPix OCR"}),e.jsx("meta",{name:"description",content:"Aplicación de OCR matemático con MathPix y Flowise para reconocimiento de texto e imágenes"}),e.jsx("meta",{name:"format-detection",content:"telephone=no"}),e.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),e.jsx("meta",{name:"msapplication-config",content:"/react-mathpix-flowise/browserconfig.xml"}),e.jsx("meta",{name:"msapplication-TileColor",content:"#3b82f6"}),e.jsx("meta",{name:"msapplication-tap-highlight",content:"no"}),e.jsx("meta",{name:"theme-color",content:"#3b82f6"}),e.jsx(w,{}),e.jsx(k,{})]}),e.jsxs("body",{children:[s,e.jsx(b,{}),e.jsx(y,{})]})]})}const _=j(function(){return e.jsx(T,{children:e.jsx(N,{children:e.jsx(M,{children:e.jsx(E,{children:e.jsx(A,{children:e.jsx(P,{children:e.jsxs("div",{className:"min-h-screen main-content",style:{backgroundColor:"var(--color-background)"},children:[e.jsx(L,{}),e.jsx(S,{}),e.jsx(W,{})]})})})})})})})}),q=v(function({error:n}){let t="Oops!",o="An unexpected error occurred.",c;return C(n)&&(t=n.status===404?"404":"Error",o=n.status===404?"The requested page could not be found.":n.statusText||o),e.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[e.jsx("h1",{children:t}),e.jsx("p",{children:o}),c]})});export{q as ErrorBoundary,F as Layout,_ as default,D as links};
