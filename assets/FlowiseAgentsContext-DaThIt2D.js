import{a as o,p as u}from"./chunk-B7RQU5TL-xj-QjgGV.js";const w=[],c=o.createContext(void 0);function m({children:n}){const[r,a]=o.useState(w),[l,d]=o.useState(!0);o.useEffect(()=>{try{const e=localStorage.getItem("flowise-agents");if(e){const t=JSON.parse(e);a(t)}}catch(e){console.error("Error loading Flowise agents from localStorage:",e)}finally{d(!1)}},[]);const i=e=>{try{localStorage.setItem("flowise-agents",JSON.stringify(e))}catch(t){console.error("Error saving Flowise agents to localStorage:",t)}},A={agents:r,addAgent:e=>{const t={...e,id:Date.now().toString()+Math.random().toString(36).substr(2,9)},s=[...r,t];a(s),i(s)},updateAgent:(e,t)=>{const s=r.map(g=>g.id===e?{...g,...t}:g);a(s),i(s)},deleteAgent:e=>{const t=r.filter(s=>s.id!==e);a(t),i(t)},isLoading:l};return u.jsx(c.Provider,{value:A,children:n})}function v(){const n=o.useContext(c);if(n===void 0)throw new Error("useFlowiseAgents must be used within a FlowiseAgentsProvider");return n}export{m as F,v as u};
