import{a as i,p as e,w as A}from"./chunk-B7RQU5TL-mf8dp6A9.js";import{C as M}from"./CameraSettings-BM-IE5pl.js";import{u as S}from"./MathpixSettingsContext-D1SeV8mS.js";import{u as R}from"./FlowiseAgentsContext-CLOlgCO7.js";import{P as E}from"./PageHeader-DKlfP6W3.js";import"./CameraSettingsContext-Cu3MGpBM.js";import"./UIContext-BM-qYgXm.js";function F({className:b="",showTitle:p=!0,showResetButton:y=!0}){const{settings:a,saveSettings:v,resetToDefaults:N}=S(),[s,c]=i.useState(a),[m,l]=i.useState(!1);i.useEffect(()=>{c(a),l(!1)},[a]),i.useEffect(()=>{const r=JSON.stringify(s)!==JSON.stringify(a);l(r)},[s,a]);const d=(r,u)=>{c(o=>({...o,[r]:u}))},h=(r,u)=>{c(u?o=>({...o,outputFormats:[...o.outputFormats,r]}):o=>({...o,outputFormats:o.outputFormats.filter(j=>j!==r)}))},g=()=>{c({appId:"",appKey:"",includeMath:!0,outputFormats:["text","latex","mathml"]})},n=()=>{v(s),console.log("Mathpix settings saved:",s)};return e.jsxs("div",{className:`space-y-4 ${b}`,children:[p&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Configuración de Mathpix API"}),y&&e.jsx("button",{onClick:g,className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors duration-200",children:"Restablecer"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-gray-700 dark:text-gray-300",children:"Credenciales de API"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"App ID"}),e.jsx("input",{type:"text",value:s.appId,onChange:r=>d("appId",r.target.value),placeholder:"Ingresa tu App ID de Mathpix",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"App Key"}),e.jsx("input",{type:"password",value:s.appKey,onChange:r=>d("appKey",r.target.value),placeholder:"Ingresa tu App Key de Mathpix",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-gray-700 dark:text-gray-300",children:"Opciones de Procesamiento"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Incluir Reconocimiento de Fórmulas"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Reconocer y convertir fórmulas matemáticas"})]}),e.jsx("input",{type:"checkbox",checked:s.includeMath,onChange:r=>d("includeMath",r.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-gray-700 dark:text-gray-300",children:"Formatos de Salida"}),e.jsx("div",{className:"space-y-2",children:[{id:"text",label:"Texto Plano",desc:"Texto extraído sin formato"},{id:"latex",label:"LaTeX",desc:"Fórmulas en formato LaTeX"},{id:"mathml",label:"MathML",desc:"Fórmulas en formato MathML"}].map(r=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.label}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.desc})]}),e.jsx("input",{type:"checkbox",checked:s.outputFormats.includes(r.id),onChange:u=>h(r.id,u.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]},r.id))})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:n,disabled:!m,className:`w-full px-4 py-2 font-medium rounded-md transition-colors duration-200 ${m?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:m?"Guardar Configuración":"Sin cambios para guardar"})}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5",children:e.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"¿Cómo obtener las credenciales?"}),e.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:["1. Regístrate en mathpix.com",e.jsx("br",{}),"2. Ve al dashboard y crea una nueva aplicación",e.jsx("br",{}),"3. Copia el App ID y App Key generados"]})]})]})})]})]})}function I({className:b="",showTitle:p=!0,showResetButton:y=!0}){const{agents:a,addAgent:v,updateAgent:N,deleteAgent:s}=R(),[c,m]=i.useState(!1),[l,d]=i.useState({name:"",url:""}),[h,g]=i.useState(null),[n,r]=i.useState({name:"",url:""}),u=()=>{l.name.trim()&&l.url.trim()&&(v({name:l.name.trim(),url:l.url.trim()}),d({name:"",url:""}),m(!1))},o=t=>{g(t.id),r({name:t.name,url:t.url})},j=()=>{h&&n.name.trim()&&n.url.trim()&&(N(h,{name:n.name.trim(),url:n.url.trim()}),g(null),r({name:"",url:""}))},k=()=>{g(null),r({name:"",url:""})},w=t=>{window.confirm("¿Estás seguro de que quieres eliminar este agente?")&&s(t)},C=()=>{window.confirm("¿Estás seguro de que quieres eliminar todos los agentes?")&&a.forEach(t=>s(t.id))};return e.jsxs("div",{className:`space-y-4 ${b}`,children:[p&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--color-text-primary)"},children:"Agentes de Flowise"}),y&&a.length>0&&e.jsx("button",{onClick:C,className:"px-3 py-1 text-sm bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-200",children:"Eliminar Todos"})]}),e.jsxs("div",{className:"space-y-4",children:[a.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3",style:{color:"var(--color-text-primary)"},children:["Agentes Configurados (",a.length,")"]}),e.jsx("div",{className:"space-y-3",children:a.map(t=>e.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:h===t.id?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-primary)"},children:"Nombre del Agente"}),e.jsx("input",{type:"text",value:n.name,onChange:x=>r(f=>({...f,name:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Nombre del agente"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-primary)"},children:"URL del Agente"}),e.jsx("input",{type:"url",value:n.url,onChange:x=>r(f=>({...f,url:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"https://cloud.flowiseai.com/api/v1/prediction/..."})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:j,className:"px-3 py-1 text-sm bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors duration-200",children:"Guardar"}),e.jsx("button",{onClick:k,className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors duration-200",children:"Cancelar"})]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-sm",style:{color:"var(--color-text-primary)"},children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 break-all",children:t.url})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>o(t),className:"p-1 text-blue-600 hover:text-blue-700",title:"Editar agente",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>w(t.id),className:"p-1 text-red-600 hover:text-red-700",title:"Eliminar agente",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},t.id))})]}),c?e.jsxs("div",{className:"p-4 rounded-lg border border-dashed",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:[e.jsx("h4",{className:"font-medium mb-3",style:{color:"var(--color-text-primary)"},children:"Agregar Nuevo Agente"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-primary)"},children:"Nombre del Agente"}),e.jsx("input",{type:"text",value:l.name,onChange:t=>d(x=>({...x,name:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Mi Agente de IA"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-primary)"},children:"URL del Agente"}),e.jsx("input",{type:"url",value:l.url,onChange:t=>d(x=>({...x,url:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"https://cloud.flowiseai.com/api/v1/prediction/..."})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:u,disabled:!l.name.trim()||!l.url.trim(),className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-md transition-colors duration-200",children:"Agregar Agente"}),e.jsx("button",{onClick:()=>{m(!1),d({name:"",url:""})},className:"px-4 py-2 text-sm bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors duration-200",children:"Cancelar"})]})]})]}):e.jsxs("button",{onClick:()=>m(!0),className:"w-full p-4 rounded-lg border-2 border-dashed text-center hover:border-solid transition-all",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-surface)"},children:[e.jsx("div",{className:"text-2xl mb-2",children:"➕"}),e.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:"Agregar Nuevo Agente"}),e.jsx("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Configurar un agente de Flowise"})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5",children:e.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"¿Cómo obtener la URL del agente?"}),e.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:["1. Ve a tu instancia de Flowise",e.jsx("br",{}),"2. Selecciona el agente que quieres usar",e.jsx("br",{}),"3. Copia la URL de la API (formato: /api/v1/prediction/...)",e.jsx("br",{}),"4. Pega la URL completa incluyendo el dominio"]})]})]})})]})]})}function H({}){return[{title:"Configuración - Mathpix OCR Explorer"},{name:"description",content:"Configuraciones de cámara y API de Mathpix para OCR"}]}const K=A(function(){return e.jsxs("div",{className:"min-h-screen pb-20",style:{backgroundColor:"var(--color-background)"},children:[e.jsx(E,{title:"Configuración",description:"Ajustes de cámara y API de Mathpix",icon:"⚙️"}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700 mb-6",children:e.jsx(F,{showTitle:!0,showResetButton:!0})})}),e.jsx("div",{className:"px-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700 mb-6",children:e.jsx(M,{showTitle:!0,showResetButton:!0})})}),e.jsx("div",{className:"px-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700 mb-6",children:e.jsx(I,{showTitle:!0,showResetButton:!0})})}),e.jsxs("div",{className:"px-4",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",style:{color:"var(--color-text-primary)"},children:"Configuración Avanzada"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:"Auto-focus"}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Enfoque automático de la cámara"})]}),e.jsx("input",{type:"checkbox",className:"w-4 h-4",style:{accentColor:"var(--color-accent)"}})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:"Estabilización"}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Reducir vibración en videos"})]}),e.jsx("input",{type:"checkbox",className:"w-4 h-4",style:{accentColor:"var(--color-accent)"}})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:"Guardar automáticamente"}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Descargar archivos automáticamente"})]}),e.jsx("input",{type:"checkbox",className:"w-4 h-4",style:{accentColor:"var(--color-accent)"}})]})]})]})]})});export{K as default,H as meta};
