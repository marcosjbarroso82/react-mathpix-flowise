import{q as b,p as e,L as j,a as i,O as k,w,t as y,M as N,v as C,S as L,x as M,i as I}from"./chunk-B7RQU5TL-mf8dp6A9.js";import{u as g,U as A}from"./UIContext-BM-qYgXm.js";import{C as E}from"./CameraSettingsContext-Cu3MGpBM.js";import{M as P}from"./MathpixSettingsContext-D1SeV8mS.js";import{F as S}from"./FlowiseAgentsContext-CLOlgCO7.js";import{P as W}from"./PromptsContext-6ZfF2ThP.js";import{M as z}from"./MultiOCRWorkflowContext-8awWMoXz.js";import"./index-DOzBNQ5J.js";import"./preload-helper-BCbxkQLz.js";const T=[{name:"Flowise",href:"/",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})},{name:"Prompts",href:"/prompts",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Multi-OCR",href:"/multi-ocr-workflow",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14-4H3m16 8H5m14 4H3"})})},{name:"OCR",href:"/ocr",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"C√°mara",href:"/camera",icon:e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})},{name:"Configuraci√≥n",href:"/settings",icon:e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{name:"Supabase",href:"/supabase-test",icon:e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7l9 5 9-5-9-5-9 5z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 17l9 5 9-5"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l9 5 9-5"})]})}];function B(){const s=b(),{uiSettings:a}=g();return a.showNavigation?e.jsx("nav",{className:"bottom-navigation fixed bottom-0 left-0 right-0 px-4 py-2 z-50 border-t",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:e.jsx("div",{className:"flex justify-around items-center max-w-md mx-auto",children:T.map(t=>{const r=s.pathname===t.href;return e.jsxs(j,{to:t.href,className:"flex flex-col items-center py-2 px-3 rounded-lg transition-colors",style:{backgroundColor:r?"var(--color-accent)":"transparent","--tw-bg-opacity":r?"1":"0"},children:[e.jsx("span",{style:{color:r?"white":"var(--color-text-tertiary)"},children:t.icon}),e.jsx("span",{className:"text-xs mt-1 font-medium",style:{color:r?"white":"var(--color-text-secondary)"},children:t.name})]},t.name)})})}):null}function H(){const[s,a]=i.useState(!1),[t,r]=i.useState(null),[c,p]=i.useState(!1),[o,l]=i.useState(null);i.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&p(!0);const u=n=>{n.preventDefault(),r(n)},f=()=>{p(!0),r(null)};return window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",f),"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(n=>{l(n);const x=()=>{n.update().then(()=>{console.log("Service Worker update check completed")}).catch(m=>{console.log("Service Worker update check failed:",m)})};x();const v=setInterval(x,3e4);return n.addEventListener("updatefound",()=>{const m=n.installing;m&&m.addEventListener("statechange",()=>{m.state==="installed"&&(navigator.serviceWorker.controller?a(!0):window.location.reload())})}),()=>clearInterval(v)}),navigator.serviceWorker.addEventListener("message",n=>{n.data&&n.data.type==="SW_UPDATE_AVAILABLE"&&a(!0)})),()=>{window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",f)}},[]);const d=async()=>{t&&(await t.prompt(),(await t.userChoice).outcome==="accepted"?console.log("Usuario acept√≥ la instalaci√≥n"):console.log("Usuario rechaz√≥ la instalaci√≥n"),r(null))},h=()=>{o&&o.waiting&&(o.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())};return t&&!c?e.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-50 bg-green-600 text-white p-4 rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"üì± Instalar App"}),e.jsx("p",{className:"text-sm opacity-90",children:"Instala esta aplicaci√≥n para una mejor experiencia"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:d,className:"bg-white text-green-600 px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors",children:"Instalar"}),e.jsx("button",{onClick:()=>r(null),className:"bg-gray-500 text-white px-4 py-2 rounded font-medium hover:bg-gray-600 transition-colors",children:"Ahora no"})]})]})}):s?e.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-50 bg-blue-600 text-white p-4 rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Actualizaci√≥n disponible"}),e.jsx("p",{className:"text-sm opacity-90",children:"Hay una nueva versi√≥n de la aplicaci√≥n disponible."})]}),e.jsx("button",{onClick:h,className:"ml-4 bg-white text-blue-600 px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors",children:"Actualizar"})]})}):null}function R(){const{uiSettings:s,toggleHeader:a,toggleNavigation:t,toggleCompactMode:r}=g();return e.jsxs("div",{className:"px-4 py-4 border-t",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:[e.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--color-text-primary)"},children:"üéõÔ∏è Controles de Interfaz"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",style:{backgroundColor:"var(--color-background)",borderColor:"var(--color-border)"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:"Mostrar Header"}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Mostrar/ocultar el encabezado de la p√°gina"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s.showHeader,onChange:a}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",style:{backgroundColor:"var(--color-background)",borderColor:"var(--color-border)"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:"Mostrar Men√∫"}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Mostrar/ocultar el men√∫ de navegaci√≥n inferior"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s.showNavigation,onChange:t}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",style:{backgroundColor:"var(--color-background)",borderColor:"var(--color-border)"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:"Modo Compacto"}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Activar interfaz compacta para optimizar espacio"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s.compactMode,onChange:r}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]})}function U(){return e.jsxs("div",{className:"min-h-screen main-content",style:{backgroundColor:"var(--color-background)"},children:[e.jsx(k,{}),e.jsx(B,{}),e.jsx(H,{}),e.jsx(R,{})]})}const O=i.createContext(void 0);function V({children:s}){const[a,t]=i.useState("light");i.useEffect(()=>{const o=localStorage.getItem("theme");if(o)t(o),r(o);else{const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(d),r(d)}},[]),i.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),l=d=>{if(!localStorage.getItem("theme")){const h=d.matches?"dark":"light";t(h),r(h)}};return o.addEventListener("change",l),()=>o.removeEventListener("change",l)},[]);const r=o=>{const l=document.documentElement;o==="dark"?l.classList.add("dark"):l.classList.remove("dark")},c=o=>{t(o),r(o),localStorage.setItem("theme",o)},p=()=>{c(a==="light"?"dark":"light")};return e.jsx(O.Provider,{value:{theme:a,toggleTheme:p,setTheme:c},children:s})}const Y=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"},{rel:"manifest",href:"/react-mathpix-flowise/manifest.json"},{rel:"icon",href:"/react-mathpix-flowise/favicon.ico"},{rel:"apple-touch-icon",href:"/react-mathpix-flowise/icon-192x192.png"},{rel:"apple-touch-icon",sizes:"192x192",href:"/react-mathpix-flowise/icon-192x192.png"},{rel:"apple-touch-icon",sizes:"512x512",href:"/react-mathpix-flowise/icon-512x512.png"}];function Z({children:s}){return e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"application-name",content:"MathPix OCR"}),e.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),e.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),e.jsx("meta",{name:"apple-mobile-web-app-title",content:"MathPix OCR"}),e.jsx("meta",{name:"description",content:"Aplicaci√≥n de OCR matem√°tico con MathPix y Flowise para reconocimiento de texto e im√°genes"}),e.jsx("meta",{name:"format-detection",content:"telephone=no"}),e.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),e.jsx("meta",{name:"msapplication-config",content:"/react-mathpix-flowise/browserconfig.xml"}),e.jsx("meta",{name:"msapplication-TileColor",content:"#3b82f6"}),e.jsx("meta",{name:"msapplication-tap-highlight",content:"no"}),e.jsx("meta",{name:"theme-color",content:"#3b82f6"}),e.jsx("meta",{name:"manifest-version",content:"2.0"}),e.jsx(N,{}),e.jsx(C,{})]}),e.jsxs("body",{children:[s,e.jsx(L,{}),e.jsx(M,{})]})]})}const $=w(function(){return e.jsx(V,{children:e.jsx(A,{children:e.jsx(E,{children:e.jsx(P,{children:e.jsx(S,{children:e.jsx(W,{children:e.jsx(z,{children:e.jsx(U,{})})})})})})})})}),ee=y(function({error:a}){let t="Oops!",r="An unexpected error occurred.",c;return I(a)&&(t=a.status===404?"404":"Error",r=a.status===404?"The requested page could not be found.":a.statusText||r),e.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[e.jsx("h1",{children:t}),e.jsx("p",{children:r}),c]})});export{ee as ErrorBoundary,Z as Layout,$ as default,Y as links};
